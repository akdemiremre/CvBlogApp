@using CvBlog.Shared.Utilities.Results.ComplexTypes
@model CvBlog.Entities.Dtos.UserListDto
@{
    Layout = "_Layout";
    ViewBag.Title = "Kullanıcı Listesi";
}
@{
    if (Model.ResultStatus == ResultStatus.Success)
    {
        <div id="modalPlaceHolder" aria-hidden="true"></div>
        <div class="card p-3">
            <div class="card-header">
                <h5>Kullanıcı İşlemleri</h5>
                <span>Kullanıcı ekleme, güncelleme, silme ve gösterip/gizleme işlemlerini buradan yapabilirsiniz.</span>
            </div>
            <div class="card-block" id="userCardBlock">
                <div class="dt-responsive table-responsive">
                    <table id="usersTable" class="table table-striped table-bordered nowrap">
                        <thead>
                            <tr>
                                <th class="text-center">ID</th>
                                <th class="text-center">Ad Soyad</th>
                                <th class="text-center">Kullanıcı Adı</th>
                                <th class="text-center">E-Posta Adresi</th>
                                <th class="text-center">Telefon Numarası</th>
                                <th class="text-center">Resim</th>
                                <th class="text-center">İşlemler</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var user in Model.Users)
                            {
                                <tr name="@user.Id">
                                    <td class="text-center">@user.Id</td>
                                    <td class="text-center">@user.FirstName @user.LastName</td>
                                    <td class="text-center">@user.UserName</td>
                                    <td class="text-center">@user.Email</td>
                                    <td class="text-center">@user.PhoneNumber</td>
                                    <td class="text-center"><img src="~/img/@user.Picture" alt="@user.UserName" class="my-image-table" /></td>
                                    <td>
                                        <button class="btn btn-xs btn-info btn-outline-info userUpdateModalShow" title="Düzenlemek için tıklayınız." data-id="@user.Id">
                                        <i class="icofont icofont-edit"></i>
                                        </button>
                                        <button class="btn btn-xs btn-danger btn-outline-danger ml-1 userIsDeletedButton" title="Silmek için tıklayınız." data-id="@user.Id">
                                        <i class="icofont icofont-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    }
    else
    {
        <div class="alert alert-danger">
        Hata Oluştu ! Sayfa yüklenemedi.<br/>
        Dashboard sayfasına geri dönmek için lütfen <a class="alert-link" asp-area="Admin" asp-controller="Home" asp-action="Index" > tıklayınız.</a>
        </div>
    }
}
@section Styles{
    <!-- Data Table Css -->
    <link rel="stylesheet" type="text/css" href="/Backend/bower_components/datatables.net-bs4/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" type="text/css" href="/Backend/assets/pages/data-table/css/buttons.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="/Backend/bower_components/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css">
    <link href="/Backend/assets/pages/sweetalert2/dist/sweetalert2.min.css" rel="stylesheet" />
}
@section Scripts
{
    <!-- data-table js -->
    <script src="/Backend/assets/pages/data-table/js/data-table-custom.js"></script>
    <script src="/Backend/assets/pages/data-table/extensions/responsive/js/responsive-custom.js"></script>
    <script src="/Backend/bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="/Backend/bower_components/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="/Backend/assets/pages/data-table/js/jszip.min.js"></script>
    <script src="/Backend/assets/pages/data-table/js/pdfmake.min.js"></script>
    <script src="/Backend/assets/pages/data-table/js/vfs_fonts.js"></script>
    <script src="/Backend/bower_components/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="/Backend/bower_components/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="/Backend/bower_components/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="/Backend/bower_components/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="/Backend/bower_components/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>
    <script src="/Backend/assets/pages/sweetalert2/dist/sweetalert2.min.js"></script>
    <script src="/Backend/assets/js/user/user-list.js"></script>
}